<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Fuyao-Jiang"><meta name="description" content="区块链开发、golang、智能合约、共识算法、密码学、Bitcoin、Ethereum、Bitshare源码解析、超级账本"><link rel="alternative" href="/atom.xml" title="姜富耀 | BlockChain" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>区块链开发 Go语言：面向对象编程 - 姜富耀 | BlockChain</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">姜富耀 | BlockChain</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">☯ DIR'/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-01-29T11:20:52.000Z">一月 29, 2018</time><h1 class="post__title"><a href="/2018/01/29/区块链开发-Go语言：面向对象编程/">区块链开发 Go语言：面向对象编程</a></h1><div class="post__main echo"><h3 id="1-术语"><a href="#1-术语" class="headerlink" title="1. 术语"></a>1. 术语</h3><blockquote>
<p><strong>OOP</strong>  ：面向对象<strong>编程</strong><br><strong>OOA</strong> ：面向对象<strong>分析</strong><br><strong>OOT</strong>：  面向对象<strong>测试</strong>   </p>
</blockquote>
<h4 id="静静地去体会面向对象是个什么鬼？。。"><a href="#静静地去体会面向对象是个什么鬼？。。" class="headerlink" title="静静地去体会面向对象是个什么鬼？。。"></a>静静地去体会面向对象是个什么鬼？。。</h4><blockquote>
<p>面向<strong>过程</strong> 和 面向<strong>对象</strong>编程的比较：</p>
<p><strong>面向过程编程</strong><br>一个2000KM 长的 高速公路上，<br>跑着一辆速度为60KM/h 的一辆卡车，<br>编程计算跑完 2000KM 需要多长时间？<br>长度 <strong>除以</strong> 速度 = 时间（面向 <strong>过程</strong> 编程）</p>
<p><strong>面向对象：</strong><br><strong>对象1</strong> ： 卡车：<br><strong>属性</strong>：速度，60km/ h ；<br><strong>行为 / 方法 （函数）</strong>，run ( )<br><strong>对象2</strong> ： 公路：<br><strong>属性</strong>：长度， 2000 KM<br>然后，“告诉”卡车：“喂，卡车！给我在公路上跑一下！告诉我时间”  </p>
<h4 id="是不是有点明白了？-再来一个-栗子。"><a href="#是不是有点明白了？-再来一个-栗子。" class="headerlink" title="是不是有点明白了？ 再来一个 栗子。"></a>是不是有点明白了？ 再来一个 栗子。</h4><p>编写一款 五子棋 游戏 :<br><strong>对象（1）</strong>.棋盘：<br>属性： 大小、线、等等。<br>行为： 初始化棋盘<br><strong>对象（2）</strong>.棋子：<br>属性：颜色<br>行为：走棋子、逻辑系统  </p>
</blockquote>
<h4 id="什么是-类-呢？举个栗子："><a href="#什么是-类-呢？举个栗子：" class="headerlink" title="什么是 类 呢？举个栗子："></a>什么是 <strong>类</strong> 呢？举个栗子：</h4><blockquote>
<p>武功秘籍：葵花宝典、打狗棒法、九阴真经<br>乐器：小提琴、二胡、钢琴、笛子<br>其中：武功秘籍和乐器，就是<strong>类</strong>,<br>葵花宝典、打狗棒法、九阴真经 是武功秘籍这个类的<strong>对象</strong>实例。<br>小提琴、二胡、钢琴、笛子 是乐器 这个类的<strong>对象</strong>实例。</p>
<h4 id="通俗化下个定义"><a href="#通俗化下个定义" class="headerlink" title="通俗化下个定义"></a>通俗化下个定义</h4><p><strong>类：</strong> 抽象的一个概念，是一堆具体事物的共性的抽象。<br><strong>对象</strong>具体的东西（实例），有自己的属性和行为。<br><strong>类的特性</strong>： <strong>继承</strong>、<strong>封装</strong>、<strong>多态</strong>  </p>
</blockquote>
<h3 id="取别名-type-语句"><a href="#取别名-type-语句" class="headerlink" title="取别名 type 语句"></a>取别名 type 语句</h3><blockquote>
<p>给数据类型 取个别名，你可以把 int类型 改叫成 小狗类型,只要你喜欢。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> bieming_int <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">100</span>    <span class="comment">// 类型 int</span></span><br><span class="line"><span class="keyword">var</span> b bieming_int  = <span class="number">200</span>   <span class="comment">// 类型 main. bieming_int(作用于main，可以声明 全局)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//另外：函数类型 也可以取别名</span></span><br><span class="line"><span class="keyword">type</span> ff <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">int</span>,<span class="keyword">int</span>)</span> <span class="title">int</span></span></span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="创建一个类-并通过类，创建对象"><a href="#创建一个类-并通过类，创建对象" class="headerlink" title="创建一个类 ,并通过类，创建对象"></a>创建一个<strong>类</strong> ,并通过类，创建<strong>对象</strong></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// type 类名 struct</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个dog类</span></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="comment">// name,age,weight类的属性</span></span><br><span class="line">	name   <span class="keyword">string</span>  <span class="comment">//姓名</span></span><br><span class="line">	age    <span class="keyword">int</span>     <span class="comment">//年龄</span></span><br><span class="line">	weight <span class="keyword">float64</span> <span class="comment">//体重</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 通过类创建对象</span></span><br><span class="line">	<span class="comment">// name：haha age:5 weight：10</span></span><br><span class="line">	dog := Dog&#123;<span class="string">"haha"</span>, <span class="number">5</span>, <span class="number">10.0</span>&#125;</span><br><span class="line">	fmt.Println(dog.name, dog.age, dog.weight)</span><br><span class="line"></span><br><span class="line">	dog1 := Dog&#123;<span class="string">"haha"</span>, <span class="number">5</span>, <span class="number">10.0</span>&#125;</span><br><span class="line">	fmt.Println(dog1.name, dog1.age, dog1.weight)</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"%p\t%p\n"</span>, &amp;dog, &amp;dog1)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>通过类创建兑现 初始化 方式：<br>  <code>dog := Dog{name: &quot;haha&quot;, age: 40}</code><br>  <code>dog := Dog{&quot;haha&quot;,5,10.0}</code></p>
</blockquote>
<h2 id="set-方法、get-方法"><a href="#set-方法、get-方法" class="headerlink" title="set 方法、get 方法"></a>set 方法、get 方法</h2><blockquote>
<p>set 方法通俗讲：就是<strong>设置</strong> 对象 属性 的值。<br>get 方法通俗讲： 就是<strong>读取</strong> 对象 属性 的值。  </p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span> &#123;</span><br><span class="line">  age <span class="keyword">int</span></span><br><span class="line">  name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 创建一个Dog 对象,没有初始化</span></span><br><span class="line"><span class="comment">//set 方法 主要用于 设置 属性的值</span></span><br><span class="line"><span class="comment">// Dog 不加* 指针 深拷贝 ，加* 是指针，浅拷贝</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(dogx *Dog)</span> <span class="title">setName</span><span class="params">(n <span class="keyword">string</span>)</span></span>  &#123;</span><br><span class="line">  fmt.Println(dogx)</span><br><span class="line">  dogx.name = n  <span class="comment">//name(类里面的name)</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(dogx *Dog)</span> <span class="title">setAge</span><span class="params">(a <span class="keyword">int</span>)</span></span>  &#123;</span><br><span class="line">  dogx.age = a</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// get 方法 只要用于 读取属性的值</span></span><br><span class="line"><span class="comment">// 函数名不能与属性同名</span></span><br><span class="line"><span class="comment">// Dog加指针 是浅拷贝，节省空间。但如果想随便修改，可以深拷贝。</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(dogx *Dog)</span> <span class="title">getAge</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> dogx.age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line"></span><br><span class="line">  dog := Dog&#123;&#125;</span><br><span class="line">  dog.setAge(<span class="number">11</span>)  <span class="comment">//呼叫dog对象用set方法 修改年龄</span></span><br><span class="line">  fmt.Println(dog.age)</span><br><span class="line">  <span class="comment">// dog.setName("haha")</span></span><br><span class="line">  <span class="comment">// fmt.Println(dog.name)</span></span><br><span class="line">  fmt.Println(dog.getAge())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>此处提到了，<strong>深拷贝</strong>和<strong>浅拷贝</strong>形象的解释下<br><strong>深拷贝</strong>：就像一个人在放风筝，我也想放这样的风筝。我可以复制一个完全同样的风筝。如果把风筝看成内存数据空间，把人当成指针，复制风筝这个过程就是深拷贝，改变自己的风筝，对别人的风筝不会有影响。<br><strong>浅拷贝</strong>：就像我也想放同样的风筝，我直接把线搭到别人风筝上，相当于，我的指针直接指向别人的内存数据空间，这样我改变了风筝姿态，别人的风筝也是受影响的。 </p>
</blockquote>
<h2 id="复合和继承"><a href="#复合和继承" class="headerlink" title="复合和继承"></a>复合和继承</h2><blockquote>
<p>复合:通俗解释就是 <strong>类 里面有 类</strong>，（车 与 轮子），<strong>车</strong> 这个类，包含了 <strong>轮子</strong>这个类。（在Go语言中复合和继承没有分开）</p>
<p>看实例，创建 一个动物的类，里面有包含狗和猪这个类，注意狗不是对象，它也是一个类，因为它不是实例，是一个统称。</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Animal 动物</span></span><br><span class="line"><span class="keyword">type</span> Animal <span class="keyword">struct</span> &#123;</span><br><span class="line">  age <span class="keyword">int</span></span><br><span class="line">  weight <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span> &#123;</span><br><span class="line">  animal Animal   <span class="comment">// 复合，继承 动物属性</span></span><br><span class="line">  name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Pig <span class="keyword">struct</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  <span class="comment">//对象初始化</span></span><br><span class="line">  animal := Animal&#123;<span class="number">3</span>, <span class="number">3.6</span>&#125;</span><br><span class="line">  fmt.Println(animal.age, animal.weight)</span><br><span class="line">  <span class="comment">// 创建Dog对象</span></span><br><span class="line">  dog := Dog&#123;animal:Animal&#123;<span class="number">4</span>,<span class="number">4.8</span>&#125;,name:<span class="string">"afu"</span>&#125;</span><br><span class="line">  fmt.Println(dog.name)</span><br><span class="line">  fmt.Println(dog.animal.age, dog.animal.weight) <span class="comment">//获取 继承上方的属性，需要加上方名。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>用数组 定义一个 四个轮子的 卡车 （复合）</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Wheel <span class="keyword">struct</span> &#123;</span><br><span class="line">  radius <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Car <span class="keyword">struct</span> &#123;</span><br><span class="line">  wheels [<span class="number">4</span>]Wheel</span><br><span class="line">  brand <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  wheel := Wheel&#123;<span class="number">6.3</span>&#125;</span><br><span class="line">  wheels := [<span class="number">4</span>]Wheel&#123;wheel,wheel,wheel,wheel&#125;</span><br><span class="line">  fmt.Println(wheels)</span><br><span class="line">  car := Car&#123;wheels:wheels, brand:<span class="string">"BMW"</span>&#125;</span><br><span class="line">  fmt.Println(car)</span><br><span class="line">  fmt.Println(car.wheels[<span class="number">0</span>].radius) <span class="comment">// 读取一个轮子的半径。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>继承实例</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Animal <span class="keyword">struct</span> &#123;</span><br><span class="line">  age <span class="keyword">int</span></span><br><span class="line">  weight <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span> &#123;</span><br><span class="line">  Animal                   <span class="comment">//Animal 父类 的类名</span></span><br><span class="line">  name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  dog := Dog&#123;</span><br><span class="line">    Animal: Animal&#123;</span><br><span class="line">      <span class="number">5</span>,</span><br><span class="line">      <span class="number">6.8</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      name:<span class="string">"afu"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  fmt.Println(dog)</span><br><span class="line">  fmt.Println(dog.age)</span><br><span class="line">  fmt.Println(dog.weight)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>多态</strong>：<br>父类的指针 可以指向 子类的对象。<br>访问的是 子类 的属性。<br>golang 的继承 是模拟的继承，不是真正额继承。</p>
</blockquote>
<h2 id="方法的继承"><a href="#方法的继承" class="headerlink" title="方法的继承"></a>方法的继承</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Animal <span class="keyword">struct</span> &#123;</span><br><span class="line">  age <span class="keyword">int</span></span><br><span class="line">  weight <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Dog <span class="keyword">struct</span> &#123;</span><br><span class="line">   Animal <span class="comment">//Animal 父类 的类名</span></span><br><span class="line">  name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 方法继承</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a *Animal)</span> <span class="title">backAgeAndWeight</span><span class="params">()</span> <span class="params">(<span class="keyword">int</span>,<span class="keyword">float64</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a.age, a.weight</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 方法重写</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(d *Dog)</span> <span class="title">backAgeAndWeight</span><span class="params">()</span> <span class="params">(<span class="keyword">int</span>,<span class="keyword">float64</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> d.age, d.weight</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  dog := Dog&#123;</span><br><span class="line">    Animal: Animal&#123;</span><br><span class="line">      <span class="number">5</span>,</span><br><span class="line">      <span class="number">6.8</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      name:<span class="string">"afu"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(dog.backAgeAndWeight())</span><br><span class="line">    fmt.Println(dog.Animal.backAgeAndWeight())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><blockquote>
<p> 添加分类的步骤：<br>   1.给类型取别名。（比如：type MyString string）<br>   2.调用方法，格式：func (变量 别名类型) 方法名(参数) 返回类型{… …}  </p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MyString <span class="keyword">string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(name MyString)</span> <span class="title">length</span><span class="params">()</span> <span class="title">int</span></span> &#123;</span><br><span class="line">  l := <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> key,_ := <span class="keyword">range</span> name &#123;</span><br><span class="line">    l = key</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> l + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  <span class="keyword">var</span> name MyString = <span class="string">"liyuechun"</span></span><br><span class="line">  <span class="comment">//给name 添加length 函数，直接读取长度。</span></span><br><span class="line">  <span class="comment">// fmt.Println(lyc_len(name))</span></span><br><span class="line">  fmt.Println(name.length())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><blockquote>
<p>Go语言 没有真正的多态，用<strong>接口</strong>模拟多态。  </p>
<h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3></blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 定义接口 */</span></span><br><span class="line"><span class="keyword">type</span> interface_name <span class="keyword">interface</span> &#123;</span><br><span class="line">   method_name1 [return_type]</span><br><span class="line">   method_name2 [return_type]</span><br><span class="line">   method_name3 [return_type]</span><br><span class="line">   ...</span><br><span class="line">   method_namen [return_type]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 定义结构体 */</span></span><br><span class="line"><span class="keyword">type</span> struct_name <span class="keyword">struct</span> &#123;</span><br><span class="line">   <span class="comment">/* variables */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 实现接口方法 */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(struct_name_variable struct_name)</span> <span class="title">method_name1</span><span class="params">()</span> [<span class="title">return_type</span>]</span> &#123;</span><br><span class="line">   <span class="comment">/* 方法实现 */</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(struct_name_variable struct_name)</span> <span class="title">method_namen</span><span class="params">()</span> [<span class="title">return_type</span>]</span> &#123;</span><br><span class="line">   <span class="comment">/* 方法实现*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="接口实例"><a href="#接口实例" class="headerlink" title="接口实例"></a>接口实例</h3><blockquote>
<p>创建一个图形的类，给边长和半径，求圆和正方形面积</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">  <span class="string">"fmt"</span></span><br><span class="line">  <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">// 接口</span></span><br><span class="line"><span class="keyword">type</span> Shape <span class="keyword">interface</span> &#123;</span><br><span class="line">  area() <span class="keyword">float64</span> <span class="comment">//声明一个方法</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Sq <span class="keyword">struct</span> &#123;</span><br><span class="line">  l <span class="keyword">float64</span> <span class="comment">//正方形边长</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(sq Sq)</span> <span class="title">area</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> sq.l * sq.l</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Circle <span class="keyword">struct</span> &#123;</span><br><span class="line">  r <span class="keyword">float64</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 求圆的面积</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c Circle)</span> <span class="title">area</span><span class="params">()</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">  <span class="keyword">return</span> math.Pi * c.r * c.r</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">info</span><span class="params">(shape Shape)</span></span>  &#123;</span><br><span class="line">  fmt.Println(shape.area())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  sum := <span class="number">0.0</span></span><br><span class="line">  <span class="keyword">var</span> arr = []Shape&#123;Sq&#123;<span class="number">1.2</span>&#125;,Sq&#123;<span class="number">2.2</span>&#125;,Sq&#123;<span class="number">3.2</span>&#125;,Circle&#123;<span class="number">10.1</span>&#125;,Circle&#123;<span class="number">12.1</span>&#125;,Circle&#123;<span class="number">13.1</span>&#125;&#125;</span><br><span class="line">  <span class="keyword">for</span> _, shape:= <span class="keyword">range</span> arr &#123;</span><br><span class="line">    sum += shape.area()</span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Println(sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<blockquote>
<p><strong><em>日后随着 学习打怪的不断深入，会解锁其他的高级教程。</em></strong>  </p>
<h3 id="期待-吗？-那就关注下面-公众号-随时锁定区块链开发学习教程进度-："><a href="#期待-吗？-那就关注下面-公众号-随时锁定区块链开发学习教程进度-：" class="headerlink" title="期待 吗？ 那就关注下面 公众号 随时锁定区块链开发学习教程进度 ：)"></a><strong><em>期待 吗？ 那就关注下面 公众号 随时锁定区块链开发学习教程进度 ：)</em></strong></h3></blockquote>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/Golang/">Golang</a></li></ul></footer></article><section class="reward"><a class="btn-reward" href="#">关注公众号</a><div class="reward-wrapper clearfix"><img src="/img/wechat.jpg" title="公众号：区块链开发技术共享"><img src="/img/lianhu.jpg" title="公众号：区块链部落"></div></section><div class="comments" id="lv-container" data-id="city" data-uid="MTAyMC8zMzU4MC8xMDEzNQ=="><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2018 Fuyao-Jiang</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>