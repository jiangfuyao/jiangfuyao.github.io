<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Fuyao-Jiang"><meta name="description" content="区块链开发、golang、智能合约、共识算法、密码学、Bitcoin、Ethereum、Bitshare源码解析、超级账本"><link rel="alternative" href="/atom.xml" title="姜富耀 | BlockChain" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>区块链开发 Go语言：数组array,切片slice,字典map - 姜富耀 | BlockChain</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">姜富耀 | BlockChain</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">☯ DIR'/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-01-28T05:53:01.000Z">一月 28, 2018</time><h1 class="post__title"><a href="/2018/01/28/区块链开发-Go语言：数组array-切片slice-字典map/">区块链开发 Go语言：数组array,切片slice,字典map</a></h1><div class="post__main echo"><hr>
<h2 id="数组-array"><a href="#数组-array" class="headerlink" title="数组 array"></a>数组 array</h2><blockquote>
<p>数组是具有相同唯一类型的一组已编号且长度固定的数据项序列,<br>这种类型可以是任意的原始类型例如整形、字符串或者自定义类型.  </p>
</blockquote>
<p><code>len(numbers)</code> 长度  (取numbers变量的长度)<br><code>cap(numbers)</code> 容量  (取numbers变量的容量)  </p>
<p>numbers[n] 读取对应 索引 数据，从0开始计数。</p>
<p>数组里面数据：1.有序。 2. 可重复。<br>集合 ： 1 。无序。 2.不可重复。<br>golang同一个数组，只能放同一种类型的数据   </p>
<blockquote>
<p>Go 语言数组声明需要指定元素类型及元素个数，语法格式如下：</p>
</blockquote>
<p><code>var variable_name [SIZE] variable_type</code></p>
<p>例：<code>var numbers [10]int</code>  </p>
<p><code>var balance = [5]int{3,2,4,6,3}</code>  </p>
<p>初始化数组中 {} 中的元素个数不能大于 <code>[]</code>中的数字。  </p>
<p>如果忽略 <code>[]</code>中的数字不设置数组大小，Go 语言会根据元素的个数来设置数组的大小：<br> <code>var balance = [...]float32{1000.0, 2.0, 3.4, 7.0, 50.0}</code>  </p>
<blockquote>
<p>例程1<br> <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> zimu1 = [<span class="number">4</span>]<span class="keyword">string</span>&#123;<span class="string">"A"</span>,<span class="string">"B"</span>,<span class="string">"C"</span>,<span class="string">"D"</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">"%q\n"</span>,zimu1)</span><br><span class="line"><span class="keyword">var</span> zimu = [<span class="number">4</span>]<span class="keyword">int</span>&#123;<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>,<span class="string">'D'</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">"%q"</span>,zimu)</span><br><span class="line"><span class="comment">//输出结果：</span></span><br><span class="line">[<span class="string">"A"</span> <span class="string">"B"</span> <span class="string">"C"</span> <span class="string">"D"</span>]</span><br><span class="line">[<span class="string">'A'</span> <span class="string">'B'</span> <span class="string">'C'</span> <span class="string">'D'</span>]</span><br></pre></td></tr></table></figure></p>
<p>例程2<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  count := <span class="number">0</span></span><br><span class="line">  nums := [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">10</span>&#125;</span><br><span class="line">  <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">    fmt.Println(nums[i])</span><br><span class="line">    count += nums[i]</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Println(count)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>数组 初始化后 ，len  cap 相等，都为0<br>不可变数组 ，长度不可变。内容可修改。</p>
<p>初始化 直接 索引赋值  </p>
<p><code>var nums = [5]int{key: value, key: value}</code><br><code>var nums = [5]int{1: 2, 3: 6}  //给[1] 赋值2，给[3]赋值 6</code>   </p>
<p>通过 <strong>快速枚举</strong> 求 数组总和 ，，for 循环<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i,v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">  fmt.Println(i)  <span class="comment">// 索引</span></span><br><span class="line">  fmt.Println(v)  <span class="comment">// 值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>i 索引 不需要用时，需要用 下划线占位符 替代。<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  count := <span class="number">0</span></span><br><span class="line">  nums := [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">10</span>&#125;</span><br><span class="line"><span class="comment">//通过 快速枚举 求 数组总和</span></span><br><span class="line"><span class="comment">// _, 下划线代表占位符，因为案例没用使用i</span></span><br><span class="line">  <span class="keyword">for</span> _,v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">    <span class="comment">//fmt.Println(i)  // 索引</span></span><br><span class="line">    <span class="comment">//fmt.Println(v)  // 值</span></span><br><span class="line">    count += v</span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Println(count)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="切片slice"><a href="#切片slice" class="headerlink" title="切片slice"></a>切片slice</h2><blockquote>
<p>Go 语言切片是对数组的抽象。  </p>
</blockquote>
<p>Go 数组的长度不可改变，在特定场景中这样的集合就不太适用，<br>Go中提供了一种灵活，功能强悍的内置类型切片(“动态数组”),<br>与数组相比切片的长度是不固定的，<br>可以追加元素，在追加时可能使切片的容量增大。  </p>
<blockquote>
<p>你可以声明一个未指定大小的数组来定义切片：</p>
</blockquote>
<p><code>var identifier []type</code><br>切片不需要说明长度。<br>或使用make()函数来创建切片:  </p>
<p><code>var slice1 []type = make([]type, len)</code>  </p>
<p>也可以简写为  </p>
<p><code>slice1 := make([]type, len, cap)</code>  </p>
<blockquote>
<p>实例：<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  mySlice := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>&#125;</span><br><span class="line">  fmt.Printf(<span class="string">"%T"</span>,mySlice)</span><br><span class="line">  fmt.Println(<span class="built_in">len</span>(mySlice))</span><br><span class="line">  fmt.Println(<span class="built_in">cap</span>(mySlice))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  fmt.Println(count)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>make 定义 slice 实例：<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">  mySlice := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>, <span class="number">3</span>)</span><br><span class="line">  <span class="comment">// 创建 长度为0，容量为3， 内容为 空 的类型为[]int的slice</span></span><br><span class="line">  fmt.Printf(<span class="string">"%T"</span>,mySlice)</span><br><span class="line">  fmt.Println(<span class="built_in">len</span>(mySlice))</span><br><span class="line">  fmt.Println(<span class="built_in">cap</span>(mySlice))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>append()</strong>  往数组末尾添加元素<br><code>mySlice = append(mySlice,  i)</code>  </p>
</blockquote>
<p>往切片数组 末尾空位 （0不是空位） 添加数值<br>容量满了，自动 容量翻倍x2<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//实例：</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	greeting := <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">	greeting[<span class="number">0</span>] = <span class="string">"Good morning!"</span></span><br><span class="line">	greeting[<span class="number">1</span>] = <span class="string">"Bonjour!"</span></span><br><span class="line">	greeting[<span class="number">2</span>] = <span class="string">"buenos dias!"</span></span><br><span class="line">	greeting = <span class="built_in">append</span>(greeting, <span class="string">"Suprabadham"</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(greeting[<span class="number">3</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>切片截取<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">/* 创建切片 */</span></span><br><span class="line">   numbers := []<span class="keyword">int</span>&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;   </span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 打印原始切片 */</span></span><br><span class="line">   fmt.Println(<span class="string">"numbers =="</span>, numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 打印子切片从索引1(包含) 到索引4(不包含)*/</span></span><br><span class="line">   fmt.Println(<span class="string">"numbers[1:4] =="</span>, numbers[<span class="number">1</span>:<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 默认下限为 0*/</span></span><br><span class="line">   fmt.Println(<span class="string">"numbers[:3] =="</span>, numbers[:<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 默认上限为 len(s)*/</span></span><br><span class="line">   fmt.Println(<span class="string">"numbers[4:] =="</span>, numbers[<span class="number">4</span>:])</span><br><span class="line"></span><br><span class="line">   numbers1 := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">   printSlice(numbers1)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 打印子切片从索引  0(包含) 到索引 2(不包含) */</span></span><br><span class="line">   number2 := numbers[:<span class="number">2</span>]</span><br><span class="line">   printSlice(number2)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 打印子切片从索引 2(包含) 到索引 5(不包含) */</span></span><br><span class="line">   number3 := numbers[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">   printSlice(number3)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(x []<span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">   fmt.Printf(<span class="string">"len=%d cap=%d slice=%v\n"</span>,<span class="built_in">len</span>(x),<span class="built_in">cap</span>(x),x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>上面实例 输出结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">len=9 cap=9 slice=[0 1 2 3 4 5 6 7 8]  </span><br><span class="line">numbers == [0 1 2 3 4 5 6 7 8]  </span><br><span class="line">numbers[1:4] == [1 2 3]  </span><br><span class="line">numbers[:3] == [0 1 2]  </span><br><span class="line">numbers[4:] == [4 5 6 7 8]  </span><br><span class="line">len=0 cap=5 slice=[]  </span><br><span class="line">len=2 cap=9 slice=[0 1]  </span><br><span class="line">len=3 cap=7 slice=[2 3 4]</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>从 索引2 到3 的内容。不含 4  </p>
</blockquote>
<p><code>fmt.Println(mySlice[2:4])</code><br><code>mySlice[:3]</code>     从索引0 到2 的内容<br><code>mySlice[3:]</code>      从 索引3 到末尾<br><code>fmt.Println(&quot;myString&quot;[2])</code><br> 打印索引为2 的ASSIC<br><code>fmt.Print(&quot;ABCDEFG&quot;[2:5])</code> 这个不是ASSIC而是字符串  </p>
<p><code>mySlice = append(myselice, othermySlice...)</code><br>othermySlice… 三个点，表示 ，把所有的内容拼接到mySlice 中  </p>
<h2 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h2><blockquote>
<p>1 2 3 4<br>5 6 7 8<br>定义一个2行，4列的二维数组<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">numbers2 := [<span class="number">2</span>][<span class="number">4</span>]<span class="keyword">int</span>&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,&#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<hr>
<blockquote>
<p>知识点补充：x = string(i)   类型强制转换方法  </p>
</blockquote>
<h2 id="字典-map"><a href="#字典-map" class="headerlink" title="字典 map"></a>字典 map</h2><blockquote>
<p>Map 是一种无序的键值对的集合。<br>最重要的一点是通过 key 来快速检索数据，key 类似于索引，指向数据的值。</p>
</blockquote>
<p>Map 是一种集合，所以我们可以像迭代数组和切片那样迭代它。<br>不过，Map 是无序的，我们无法决定它的返回顺序，<br>这是因为 Map 是使用 hash 表来实现的。  </p>
<blockquote>
<p>定义map方式 </p>
</blockquote>
<p>声明变量，默认 map 是 nil<br><code>var map_variable map[key_data_type]value_data_type</code>  </p>
<p>使用 make 函数<br><code>map_variable := make(map[key_data_type]value_data_type)</code>  </p>
<blockquote>
<p>实例1：</p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 初始化一个map，map我们也经常叫做字典</span></span><br><span class="line">	<span class="keyword">var</span> dic = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;&#125; <span class="comment">// NULL</span></span><br><span class="line">	<span class="comment">// ""</span></span><br><span class="line">	fmt.Println(dic)</span><br><span class="line">	fmt.Printf(<span class="string">"%T\n"</span>, dic)</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(dic))</span><br><span class="line">	dic[<span class="string">"name"</span>] = <span class="string">"liyuechun"</span></span><br><span class="line">	fmt.Println(dic)</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(dic))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>错误</strong>的方式<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// NSDictionary *person; // nil</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// key ，value</span></span><br><span class="line">	<span class="comment">// map[key]value</span></span><br><span class="line">	<span class="comment">// &#123;"name":"jiangfuyao","tel":"15376597898"&#125;</span></span><br><span class="line">	<span class="keyword">var</span> dic <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span> <span class="comment">//nil</span></span><br><span class="line">	<span class="comment">// map[int]string</span></span><br><span class="line">	<span class="comment">// &#123;1:"jiangfuyao",2:"JFY11JFY"&#125;</span></span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"%T\n"</span>, dic)</span><br><span class="line">	<span class="comment">// map[string]string</span></span><br><span class="line">	fmt.Println(dic)</span><br><span class="line">	<span class="comment">// map[] 看成卡死在树上的风筝，它是一个nil对象</span></span><br><span class="line">	fmt.Println(dic == <span class="literal">nil</span>)</span><br><span class="line">	<span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(dic)) <span class="comment">//nil</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 增加一条数据</span></span><br><span class="line">	<span class="comment">// dic["age"] = "28"</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(dic)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//nil本身就是一个对象，这个对象也有自己的存储空间</span></span><br><span class="line">	<span class="comment">// 0x155</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	   panic: assignment to entry in nil map</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	   goroutine 1 [running]:</span></span><br><span class="line"><span class="comment">	   main.main()</span></span><br><span class="line"><span class="comment">	   	/Users/jiangfuyao/Desktop/【孔壹学院区块链】1801/课堂案例/01_var_nil-map.go:23 +0x155</span></span><br><span class="line"><span class="comment">	   exit status 2</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实例2：<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">  dic := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">    <span class="number">1</span>:<span class="string">"陈冠希"</span>,</span><br><span class="line">    <span class="number">2</span>:<span class="string">"姜富耀"</span>,</span><br><span class="line">    <span class="number">3</span>:<span class="string">"汪峰"</span>,</span><br><span class="line">    <span class="number">4</span>:<span class="string">"曾志伟"</span>,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  fmt.Println(dic)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 更新num one</span></span><br><span class="line">  dic[<span class="number">1</span>] = <span class="string">"石涛"</span></span><br><span class="line"></span><br><span class="line">  fmt.Println(dic)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 添加</span></span><br><span class="line"> dic[<span class="number">5</span>] = <span class="string">"封硕"</span></span><br><span class="line"> fmt.Println(dic)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 删除</span></span><br><span class="line"> <span class="comment">// func delete(m map[Type]Type1, key Type)</span></span><br><span class="line"> <span class="comment">// 如果函数有返回值，会将原来的数据重新拷贝一份新的空间，如果没有返回值，那么是在原来的空间里面直接修改数据</span></span><br><span class="line"> <span class="comment">// delete(map[typeA]typeB, typeA)</span></span><br><span class="line"> <span class="built_in">delete</span>(dic, <span class="number">3</span>)</span><br><span class="line"> fmt.Println(dic)</span><br><span class="line"><span class="comment">// 查询</span></span><br><span class="line"> fmt.Println(dic[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实例3：<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// 下面的四种写法等价</span></span><br><span class="line">	<span class="comment">// var myGreeting = make(map[string]string)</span></span><br><span class="line">	myGreeting := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>) <span class="comment">//NULL</span></span><br><span class="line">	<span class="comment">// myGreeting := map[string]string&#123;&#125;</span></span><br><span class="line">	<span class="comment">// var myGreeting = map[string]string&#123;&#125;</span></span><br><span class="line">	myGreeting[<span class="string">"Tim"</span>] = <span class="string">"Good morning"</span></span><br><span class="line">	myGreeting[<span class="string">"Jenny"</span>] = <span class="string">"Bonjour"</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(myGreeting)</span><br><span class="line">	<span class="comment">// 返回字典键值对的个数</span></span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(myGreeting))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>快速枚举 字典<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	myGreeting := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="number">0</span>: <span class="string">"Good morning!"</span>,</span><br><span class="line">		<span class="number">1</span>: <span class="string">"Bonjour!"</span>,</span><br><span class="line">		<span class="number">2</span>: <span class="string">"Buenos dias!"</span>,</span><br><span class="line">		<span class="number">3</span>: <span class="string">"Bongiorno!"</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// for index := 0; index &lt; len(myGreeting); index++ &#123;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> key, val := <span class="keyword">range</span> myGreeting &#123;</span><br><span class="line">		fmt.Println(key, <span class="string">" - "</span>, val)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>对字典进行冒泡排序<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	myGreeting := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="number">5</span>: <span class="string">"Good morning!"</span>,</span><br><span class="line">		<span class="number">1</span>: <span class="string">"Bonjour!"</span>,</span><br><span class="line">		<span class="number">3</span>: <span class="string">"Buenos dias!"</span>,</span><br><span class="line">		<span class="number">4</span>: <span class="string">"Bongiorno!"</span>,</span><br><span class="line">		<span class="number">6</span>: <span class="string">"Good Night!"</span>,</span><br><span class="line">		<span class="number">2</span>: <span class="string">"Hi!"</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// keys := []int&#123;&#125;  //可变大小的数组</span></span><br><span class="line">	keys := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">0</span>, <span class="built_in">len</span>(myGreeting))</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> key, value := <span class="keyword">range</span> myGreeting &#123;</span><br><span class="line">		fmt.Println(key, <span class="string">"---"</span>, value)</span><br><span class="line">		keys = <span class="built_in">append</span>(keys, key)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(keys)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(keys)<span class="number">-1</span>; j++ &#123;</span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(keys)<span class="number">-1</span>-j; i++ &#123;</span><br><span class="line">			<span class="keyword">if</span> keys[i] &gt; keys[i+<span class="number">1</span>] &#123;</span><br><span class="line">				temp := keys[i]</span><br><span class="line">				keys[i] = keys[i+<span class="number">1</span>]</span><br><span class="line">				keys[i+<span class="number">1</span>] = temp</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(keys)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, key := <span class="keyword">range</span> keys &#123;</span><br><span class="line">		fmt.Println(<span class="string">"key:"</span>, key, <span class="string">"value:"</span>, myGreeting[key])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<hr>
<blockquote>
<p><strong><em>日后随着 学习打怪的不断深入，会解锁其他的高级教程。</em></strong>  </p>
<h3 id="期待-吗？-那就关注下面-公众号-随时锁定区块链开发学习教程进度-："><a href="#期待-吗？-那就关注下面-公众号-随时锁定区块链开发学习教程进度-：" class="headerlink" title="期待 吗？ 那就关注下面 公众号 随时锁定区块链开发学习教程进度 ：)"></a>期待 吗？ 那就关注下面 公众号 随时锁定区块链开发学习教程进度 ：)</h3></blockquote>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/Golang/">Golang</a></li></ul></footer></article><section class="reward"><a class="btn-reward" href="#">关注公众号</a><div class="reward-wrapper clearfix"><img src="/img/wechat.jpg" title="公众号：区块链开发技术共享"><img src="/img/lianhu.jpg" title="公众号：区块链部落"></div></section><div class="comments" id="lv-container" data-id="city" data-uid="MTAyMC8zMzU4MC8xMDEzNQ=="><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2018 Fuyao-Jiang</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>